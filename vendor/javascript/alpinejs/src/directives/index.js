// alpinejs@3.13.5/src/directives/index.js downloaded from https://ga.jspm.io/npm:alpinejs@3.13.5/src/directives/index.js

import{e,f as t,b as r,h as l,j as i,s as n,k as s,l as o,a,o as u,p as c,q as f,r as _,t as d,u as p,v as x,x as m,y as g,z as h,B as v,C as y,D as b,E,F as k,i as A,G as w,H as S,c as N,I}from"../../_/hUfP1kVY.js";import{addScopeToNode as C}from"../scope.js";import M from"../utils/on.js";import{once as j}from"../utils/once.js";import{s as L}from"../../_/kcakvNN0.js";import"../utils/error.js";import"../../_/a-e61HbN.js";t("modelable",((t,{expression:r},{effect:l,evaluateLater:i,cleanup:n})=>{let s=i(r);let innerGet=()=>{let e;s((t=>e=t));return e};let o=i(`${r} = __placeholder`);let innerSet=e=>o((()=>{}),{scope:{__placeholder:e}});let a=innerGet();innerSet(a);queueMicrotask((()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let r=t._x_model.get;let l=t._x_model.set;let i=e({get(){return r()},set(e){l(e)}},{get(){return innerGet()},set(e){innerSet(e)}});n(i)}))}));t("teleport",((e,{modifiers:t,expression:n},{cleanup:s})=>{e.tagName.toLowerCase()!=="template"&&r("x-teleport can only be used on a <template> tag",e);let o=getTarget(n);let a=e.content.cloneNode(true).firstElementChild;e._x_teleport=a;a._x_teleportBack=e;e.setAttribute("data-teleport-template",true);a.setAttribute("data-teleport-target",true);e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{a.addEventListener(t,(t=>{t.stopPropagation();e.dispatchEvent(new t.constructor(t.type,t))}))}));C(a,{},e);let placeInDom=(e,t,r)=>{r.includes("prepend")?t.parentNode.insertBefore(e,t):r.includes("append")?t.parentNode.insertBefore(e,t.nextSibling):t.appendChild(e)};i((()=>{placeInDom(a,o,t);l(a);a._x_ignore=true}));e._x_teleportPutBack=()=>{let r=getTarget(n);i((()=>{placeInDom(e._x_teleport,r,t)}))};s((()=>a.remove()))}));let $=document.createElement("div");function getTarget(e){let t=n((()=>document.querySelector(e)),(()=>$))();t||r(`Cannot find x-teleport element for selector: "${e}"`);return t}let handler$2=()=>{};handler$2.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=true:e._x_ignore=true;r((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))};t("ignore",handler$2);t("effect",n(((e,{expression:t},{effect:r})=>{r(s(e,t))})));t("model",((e,{modifiers:t,expression:r},{effect:l,cleanup:n})=>{let c=e;t.includes("parent")&&(c=e.parentNode);let f=s(c,r);let _;_=typeof r==="string"?s(c,`${r} = __placeholder`):typeof r==="function"&&typeof r()==="string"?s(c,`${r()} = __placeholder`):()=>{};let getValue=()=>{let e;f((t=>e=t));return isGetterSetter(e)?e.get():e};let setValue=e=>{let t;f((e=>t=e));isGetterSetter(t)?t.set(e):_((()=>{}),{scope:{__placeholder:e}})};typeof r==="string"&&e.type==="radio"&&i((()=>{e.hasAttribute("name")||e.setAttribute("name",r)}));var d=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let p=o?()=>{}:M(e,d,t,(r=>{setValue(getInputValue(e,t,r,getValue()))}));t.includes("fill")&&([void 0,null,""].includes(getValue())||e.type==="checkbox"&&Array.isArray(getValue()))&&e.dispatchEvent(new Event(d,{}));e._x_removeModelListeners||(e._x_removeModelListeners={});e._x_removeModelListeners.default=p;n((()=>e._x_removeModelListeners.default()));if(e.form){let t=M(e.form,"reset",[],(t=>{a((()=>e._x_model&&e._x_model.set(e.value)))}));n((()=>t()))}e._x_model={get(){return getValue()},set(e){setValue(e)}};e._x_forceModelUpdate=t=>{t===void 0&&typeof r==="string"&&r.match(/\./)&&(t="");window.fromModel=true;i((()=>u(e,"value",t)));delete window.fromModel};l((()=>{let r=getValue();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(r)}))}));function getInputValue(e,t,r,l){return i((()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(e.type==="checkbox"){if(Array.isArray(l)){let e=null;e=t.includes("number")?safeParseNumber(r.target.value):t.includes("boolean")?c(r.target.value):r.target.value;return r.target.checked?l.concat([e]):l.filter((t=>!checkedAttrLooseCompare(t,e)))}return r.target.checked}return e.tagName.toLowerCase()==="select"&&e.multiple?t.includes("number")?Array.from(r.target.selectedOptions).map((e=>{let t=e.value||e.text;return safeParseNumber(t)})):t.includes("boolean")?Array.from(r.target.selectedOptions).map((e=>{let t=e.value||e.text;return c(t)})):Array.from(r.target.selectedOptions).map((e=>e.value||e.text)):t.includes("number")?safeParseNumber(r.target.value):t.includes("boolean")?c(r.target.value):t.includes("trim")?r.target.value.trim():r.target.value}))}function safeParseNumber(e){let t=e?parseFloat(e):null;return isNumeric$1(t)?t:e}function checkedAttrLooseCompare(e,t){return e==t}function isNumeric$1(e){return!Array.isArray(e)&&!isNaN(e)}function isGetterSetter(e){return e!==null&&typeof e==="object"&&typeof e.get==="function"&&typeof e.set==="function"}t("cloak",(e=>queueMicrotask((()=>i((()=>e.removeAttribute(f("cloak"))))))));_((()=>`[${f("init")}]`));t("init",n(((e,{expression:t},{evaluate:r})=>typeof t==="string"?!!t.trim()&&r(t,{},false):r(t,{},false))));t("text",((e,{expression:t},{effect:r,evaluateLater:l})=>{let n=l(t);r((()=>{n((t=>{i((()=>{e.textContent=t}))}))}))}));t("html",((e,{expression:t},{effect:r,evaluateLater:n})=>{let s=n(t);r((()=>{s((t=>{i((()=>{e.innerHTML=t;e._x_ignoreSelf=true;l(e);delete e._x_ignoreSelf}))}))}))}));x(p(":",d(f("bind:"))));let handler$1=(e,{value:t,modifiers:r,expression:l,original:n},{effect:o})=>{if(!t){let t={};m(t);let r=s(e,l);r((t=>{g(e,t,n)}),{scope:t});return}if(t==="key")return storeKeyForXFor(e,l);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=s(e,l);o((()=>a((n=>{n===void 0&&typeof l==="string"&&l.match(/\./)&&(n="");i((()=>u(e,t,n,r)))}))))};handler$1.inline=(e,{value:t,modifiers:r,expression:l})=>{if(t){e._x_inlineBindings||(e._x_inlineBindings={});e._x_inlineBindings[t]={expression:l,extract:false}}};t("bind",handler$1);function storeKeyForXFor(e,t){e._x_keyExpression=t}h((()=>`[${f("data")}]`));t("data",((e,{expression:t},{cleanup:r})=>{if(shouldSkipRegisteringDataDuringClone(e))return;t=t===""?"{}":t;let l={};v(l,e);let i={};y(i,l);let n=b(e,t,{scope:i});n!==void 0&&n!==true||(n={});v(n,e);let s=E(n);k(s);let o=C(e,s);s.init&&b(e,s.init);r((()=>{s.destroy&&b(e,s.destroy);o()}))}));A(((e,t)=>{if(e._x_dataStack){t._x_dataStack=e._x_dataStack;t.setAttribute("data-has-alpine-state",true)}}));function shouldSkipRegisteringDataDuringClone(e){return!!o&&(!!w||e.hasAttribute("data-has-alpine-state"))}t("show",((e,{modifiers:t,expression:r},{effect:l})=>{let n=s(e,r);e._x_doHide||(e._x_doHide=()=>{i((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))});e._x_doShow||(e._x_doShow=()=>{i((()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")}))});let hide=()=>{e._x_doHide();e._x_isShown=false};let show=()=>{e._x_doShow();e._x_isShown=true};let clickAwayCompatibleShow=()=>setTimeout(show);let o=j((e=>e?show():hide()),(t=>{typeof e._x_toggleAndCascadeWithTransitions==="function"?e._x_toggleAndCascadeWithTransitions(e,t,show,hide):t?clickAwayCompatibleShow():hide()}));let a;let u=true;l((()=>n((e=>{if(u||e!==a){t.includes("immediate")&&(e?clickAwayCompatibleShow():hide());o(e);a=e;u=false}}))))}));t("for",((e,{expression:t},{effect:r,cleanup:l})=>{let i=parseForExpression(t);let n=s(e,i.items);let o=s(e,e._x_keyExpression||"index");e._x_prevKeys=[];e._x_lookup={};r((()=>loop(e,i,n,o)));l((()=>{Object.values(e._x_lookup).forEach((e=>e.remove()));delete e._x_prevKeys;delete e._x_lookup}))}));function loop(e,t,n,s){let isObject=e=>typeof e==="object"&&!Array.isArray(e);let o=e;n((n=>{isNumeric(n)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1)));n===void 0&&(n=[]);let a=e._x_lookup;let u=e._x_prevKeys;let c=[];let f=[];if(isObject(n))n=Object.entries(n).map((([e,r])=>{let l=getIterationScopeVariables(t,r,e,n);s((e=>f.push(e)),{scope:{index:e,...l}});c.push(l)}));else for(let e=0;e<n.length;e++){let r=getIterationScopeVariables(t,n[e],e,n);s((e=>f.push(e)),{scope:{index:e,...r}});c.push(r)}let _=[];let d=[];let p=[];let x=[];for(let e=0;e<u.length;e++){let t=u[e];f.indexOf(t)===-1&&p.push(t)}u=u.filter((e=>!p.includes(e)));let m="template";for(let e=0;e<f.length;e++){let t=f[e];let r=u.indexOf(t);if(r===-1){u.splice(e,0,t);_.push([m,e])}else if(r!==e){let t=u.splice(e,1)[0];let l=u.splice(r-1,1)[0];u.splice(e,0,l);u.splice(r,0,t);d.push([t,l])}else x.push(t);m=t}for(let e=0;e<p.length;e++){let t=p[e];!a[t]._x_effects||a[t]._x_effects.forEach(S);a[t].remove();a[t]=null;delete a[t]}for(let e=0;e<d.length;e++){let[t,l]=d[e];let n=a[t];let s=a[l];let u=document.createElement("div");i((()=>{s||r('x-for ":key" is undefined or invalid',o);s.after(u);n.after(s);s._x_currentIfEl&&s.after(s._x_currentIfEl);u.before(n);n._x_currentIfEl&&n.after(n._x_currentIfEl);u.remove()}));s._x_refreshXForScope(c[f.indexOf(l)])}for(let e=0;e<_.length;e++){let[t,n]=_[e];let s=t==="template"?o:a[t];s._x_currentIfEl&&(s=s._x_currentIfEl);let u=c[n];let d=f[n];let p=document.importNode(o.content,true).firstElementChild;let x=E(u);C(p,x,o);p._x_refreshXForScope=e=>{Object.entries(e).forEach((([e,t])=>{x[e]=t}))};i((()=>{s.after(p);l(p)}));typeof d==="object"&&r("x-for key cannot be an object, it must be a string or an integer",o);a[d]=p}for(let e=0;e<x.length;e++)a[x[e]]._x_refreshXForScope(c[f.indexOf(x[e])]);o._x_prevKeys=f}))}function parseForExpression(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/;let r=/^\s*\(|\)\s*$/g;let l=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/;let i=e.match(l);if(!i)return;let n={};n.items=i[2].trim();let s=i[1].replace(r,"").trim();let o=s.match(t);if(o){n.item=s.replace(t,"").trim();n.index=o[1].trim();o[2]&&(n.collection=o[2].trim())}else n.item=s;return n}function getIterationScopeVariables(e,t,r,l){let i={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t)){let r=e.item.replace("[","").replace("]","").split(",").map((e=>e.trim()));r.forEach(((e,r)=>{i[e]=t[r]}))}else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t==="object"){let r=e.item.replace("{","").replace("}","").split(",").map((e=>e.trim()));r.forEach((e=>{i[e]=t[e]}))}else i[e.item]=t;e.index&&(i[e.index]=r);e.collection&&(i[e.collection]=l);return i}function isNumeric(e){return!Array.isArray(e)&&!isNaN(e)}function handler(){}handler.inline=(e,{expression:t},{cleanup:r})=>{let l=N(e);l._x_refs||(l._x_refs={});l._x_refs[t]=e;r((()=>delete l._x_refs[t]))};t("ref",handler);t("if",((e,{expression:t},{effect:n,cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&r("x-if can only be used on a <template> tag",e);let a=s(e,t);let show=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(true).firstElementChild;C(t,{},e);i((()=>{e.after(t);l(t)}));e._x_currentIfEl=t;e._x_undoIf=()=>{I(t,(e=>{!e._x_effects||e._x_effects.forEach(S)}));t.remove();delete e._x_currentIfEl};return t};let hide=()=>{if(e._x_undoIf){e._x_undoIf();delete e._x_undoIf}};n((()=>a((e=>{e?show():hide()}))));o((()=>e._x_undoIf&&e._x_undoIf()))}));t("id",((e,{expression:t},{evaluate:r})=>{let l=r(t);l.forEach((t=>L(e,t)))}));A(((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)}));x(p("@",d(f("on:"))));t("on",n(((e,{value:t,modifiers:r,expression:l},{cleanup:i})=>{let n=l?s(e,l):()=>{};if(e.tagName.toLowerCase()==="template"){e._x_forwardEvents||(e._x_forwardEvents=[]);e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t)}let o=M(e,t,r,(e=>{n((()=>{}),{scope:{$event:e},params:[e]})}));i((()=>o()))})));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(e,l,i){t(l,(t=>r(`You can't use [x-${l}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,t)))}

